import java.io.File;
import java.io.FileInputStream;
import java.io.ObjectInputStream;

public class InFile extends Input
{
	private ObjectInputStream input; 
	private OutFile output = OutFile.GetInstance(); 
	private File file = new File(getLogFilePath()); 
	
	public Object read(String fileName)
	{
		Object inputObj = new Object(); 
		
		if (!file.mkdirs())
		{
			//Error
			output.writeError("Could not create parent directory for file"); 
		}

		try
		{
			if (!file.exists())
			{
				output.writeError("Cannot read file, file does not exist");
			}
			
			input = new ObjectInputStream(new FileInputStream(fileName)); 
			inputObj = input.readObject(); 
		}
		catch(Exception ex)
		{
			output.writeError(ex.getMessage());
		}
		
		return inputObj; 
	}
}
