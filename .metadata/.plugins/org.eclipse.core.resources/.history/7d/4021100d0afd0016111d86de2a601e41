import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.util.NoSuchElementException;

public class InFile extends Input
{
	private ObjectInputStream input; 
	private OutFile output = new OutFile(); 
	private File file = new File(""); 
	
	//This will return null if it cannot read the file
	public Object Read(String fileName)
	{
		Object inputObj = new Object(); 
		
		if (!file.mkdirs())
		{
			//Error
			output.WriteError("Could not create parent directory for file");
			return null; 
		}

		try
		{
			if (!file.exists())
			{
				output.WriteError("Cannot read file, file does not exist");
				return null; 
			}
			
			
			input = new ObjectInputStream(new FileInputStream(fileName)); 
			Object inputObj = input.readObject(); 
			return inputObj; 
		}
		catch(NoSuchElementException ex)
		{
			return null; 
		}
		catch(FileNotFoundException ex)
		{
			return null; 
		}
		catch(IOException ex)
		{
			return null; 
		} 
		catch (ClassNotFoundException e) 
		{
			return null; 
		}
	}
}
