import java.io.File;
import java.io.FileOutputStream;
import java.io.ObjectOutputStream;


public class OutFile extends Output
{
	private ObjectOutputStream output; 
	private File logFile = new File(getLogFilePath()); 
	private File errorLog = new File(getErrorFilePath());
	
	private OutConsole console = new OutConsole(); 
	
	public void write(String message)
	{
		this.write(logFile, message);
	}
	
	public void write(String[] messages)
	{
		this.write(logFile, messages);
	}
	
	public void writeError(String message)
	{
		this.write(errorLog, message); 
	}
	
	private void write(File file, String message)
	{
		String[] messages = {message}; 
		write(file, messages); 
	}
	
	private void write(File file, String[] messages)
	{
		if (!logFile.mkdirs())
		{
			//Error
		}

		try
		{
			if (!logFile.exists())
			{
				//Make file 
				logFile.createNewFile(); 
			}
			
			output = new ObjectOutputStream(new FileOutputStream(file.getAbsolutePath())); 
			
			output.writeObject(dateTimeString + ": " + messages);
		}
		catch(Exception ex)
		{
			console.WriteError(ex.getMessage());
		}
	}
	
	/*@Override
	public void write(Object[] message)
	{
		PrintWriter writer;
		try
		{
			writer = new PrintWriter(configFile, "UTF-8");	// edit this line to an invalid file path to get the error to throw
			writer.println(message[0]);
		    writer.println(message[1]);
		    writer.close();
		}
		catch (FileNotFoundException | UnsupportedEncodingException e)
		{
			try
			{
				writer = new PrintWriter(logFile, "UTF-8");
				writer.println(getTime() + "  Error writing to config file");	// find way to display current method?
			    writer.close();
			}
			catch (FileNotFoundException | UnsupportedEncodingException e1)
			{
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}
		}
	    

	}*/

}
