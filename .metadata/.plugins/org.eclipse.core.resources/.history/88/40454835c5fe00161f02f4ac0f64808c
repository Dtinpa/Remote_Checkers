import java.io.File;
import java.io.FileOutputStream;
import java.io.ObjectOutputStream;

public class OutFile extends Output
{
	private ObjectOutputStream output; 
	private File logFile = new File(GetLogFilePath()); 
	private File errorLog = new File(GetErrorFilePath()); 
	
	private OutConsole console = new OutConsole(); 
	
	public void Write(String message)
	{
		this.Write(logFile, message);
	}
	
	public void WriteError(String message)
	{
		this.Write(errorLog, message); 
	}
	
	private void Write(File file, String message)
	{
		String[] messages = {message}; 
		Write(file, messages); 
	}
	
	private void Write(File file, String[] messages)
	{
		if (!logFile.mkdirs())
		{
			//Error
		}

		try
		{
			if (!logFile.exists())
			{
				//Make file 
				logFile.createNewFile(); 
			}
			
			output = new ObjectOutputStream(new FileOutputStream(file.getAbsolutePath())); 
			
			output.writeObject(dateTimeString + ": " + messages);
		}
		catch(Exception ex)
		{
			console.WriteError(ex.getMessage());
		}
	}
}
